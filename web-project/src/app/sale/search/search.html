<div class="selected-tags" ng-if="selectedTags">
  <div ng-repeat="(key, value) in selectedTags">
    <span class="key-span">{{ key }}:</span>
    <span class="value-span">{{ value }}</span>
    <a class="cancel-icon" ng-click="removeTag(key);"></a>
  </div>
</div>

<table class="search-option">
  <tr>
    <td>出发日期</td>
    <td>
      <span ng-class="{'selected-tag': !showDate}" ng-click="showDate = false" class="unlimited">不限</span>
      <span ng-class="{'selected-tag': showDate}" ng-click="showDate = true" class="unlimited">选择出发日期</span>
      <div ng-show="showDate" class="date-wrapper" layout="row">
        <input
          ng-model="startDate"
          type="text"
          data-date-type="string"
          data-model-date-format="mediumDate"
          bs-datepicker
          data-date-format="mediumDate"
          data-autoclose="true">
        <div class="separator"> - </div>
        <input
          ng-model="endDate"
          type="text"
          data-date-type="string"
          data-model-date-format="mediumDate"
          bs-datepicker
          data-date-format="mediumDate"
          data-autoclose="true">
      </div>
    </td>
  </tr>
  <tr class="selectable">
    <td>出发城市</td>
    <td>
      <selectable-tag tags="tags['出发城市']" ng-model="selectedTags['出发城市']" unlimited="true"></selectable-tag>
    </td>
  </tr>
  <tr>
    <td>行程天数</td>
    <td class="selectable">
      <div class="stop-day">
        <selectable-tag tags="tags['出发城市']" ng-model="selectedTags['行程天数']" unlimited="true"></selectable-tag>
      </div>
    </td>
  </tr>
  <tr class="selectable">
    <td>酒店星级</td>
    <td>
      <selectable-tag tags="tags['出发城市']" ng-model="selectedTags['酒店标准']" unlimited="true"></selectable-tag>
    </td>
  </tr>
  <tr  class="selectable">
    <td>出行方式</td>
    <td>
      <selectable-tag tags="tags['出发城市']" ng-model="selectedTags['交通方式']" unlimited="true"></selectable-tag>
    </td>
  </tr>
  <tr  class="selectable">
    <td>类型</td>
    <td>
      <selectable-tag tags="tags['出发城市']" ng-model="selectedTags['类型']" unlimited="true"></selectable-tag>
    </td>
  </tr>
  <tr  class="selectable">
    <td>大区</td>
    <td>
      <span class="unlimited" ng-class="{'selected-tag': index['大区'] == -1}" ng-click="pick('大区', -1)">不限</span>
      <span class="unlimited" ng-class="{'selected-tag': $index==index['大区']}" ng-click="pick('大区', $index)" ng-repeat="type in tags['大区']">{{ type }}</span>
    </td>
  </tr>
  <tr class="selectable" ng-if="tags['分区'].length > 0">
    <td>分区</td>
    <td>
      <span class="unlimited" ng-class="{'selected-tag': index['分区'] == -1}" ng-click="pick('分区', -1)">不限</span>
      <span class="unlimited" ng-class="{'selected-tag': $index==index['分区']}" ng-click="pick('分区', $index)" ng-repeat="type in tags['分区']">{{ type }}</span>
    </td>
  </tr>
  <tr>
    <td>
      目的地
    </td>
    <td>
      <div class="keyword">
        <input type="text" placeholder="请输入目的地关键词" ng-model="destination">
        <md-button class="md-raised md-primary" ng-click="search();">确认搜索</md-button>
      </div>
    </td>
  </tr>
</table>

<div class="products">
  <div ng-activity-indicator class="activity-indicator"></div>
  <div>共找到 {{ totalProducts }} 个结果</div>
  <ul uib-pagination total-items="totalProducts" items-per-page="20" ng-model="currentPage" ng-change="pageChanged()"></ul>
</div>
